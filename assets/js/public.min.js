(function ($) {
  "use strict";

  var coverflowSluide = function () {
    var $slider = $(".wpt-coverflow");

    var autoplay = $slider.data("autoplay");
    var loop = $slider.data("loop");

    var swiper = new Swiper(".wpt-coverflow", {
      effect: "coverflow",
      grabCursor: true,
      centeredSlides: true,
      slidesPerView: "auto",
      loop: loop,
      autoplay: {
        delay: autoplay,
        disableOnInteraction: false,
      },
      coverflowEffect: {
        rotate: 50,
        stretch: 0,
        depth: 100,
        modifier: 1,
        slideShadows: false,
      },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });
  };

  var wptaccordion = function () {
    // Open the first item by default
    $(".wpt-accordion-header:first").addClass("active");
    $(".wpt-accordion-content:first").show();
    $(".wpt-accordion-header:first .wpt-accordion-toggle").text("-");

    $(".wpt-accordion-header").click(function () {
      // Close all other items
      $(".wpt-accordion-header").not(this).removeClass("active");
      $(".wpt-accordion-content").not($(this).next()).hide();
      $(".wpt-accordion-header .wpt-accordion-toggle").not(this).text("+");

      // Toggle the clicked item
      $(this).toggleClass("active");
      $(this).next(".wpt-accordion-content").show();

      // Update the toggle icon
      const toggleIcon = $(this).find(".wpt-accordion-toggle");
      if ($(this).hasClass("active")) {
        toggleIcon.text("-");
      } else {
        toggleIcon.text("+");
      }
    });
  };

  $(window).on("elementor/frontend/init", function () {
    elementorFrontend.hooks.addAction(
      "frontend/element_ready/wpt-coverflow-slider-id.default",
      coverflowSluide
    );
  });

  $(window).on("elementor/frontend/init", function () {
    elementorFrontend.hooks.addAction(
      "frontend/element_ready/wpt-accordion-id.default",
      wptaccordion
    );
  });
})(jQuery);
